<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fake News Detector - Card Grid</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="css/card-grid.css" />

  <!-- Preload critical resources -->
  <link rel="preload" href="js/components/CardGrid.js" as="script">
  <link rel="preload" href="js/components/NewsCard.js" as="script">

  <!-- Meta tags for better SEO and social sharing -->
  <meta name="description" content="Advanced fake news detection with Pinterest-like card grid interface">
  <meta name="keywords" content="fake news, detection, AI, machine learning, news verification">
  <meta property="og:title" content="Fake News Detector">
  <meta property="og:description" content="Detect fake news with AI-powered analysis">
  <meta property="og:type" content="website">

  <!-- Accessibility improvements -->
  <meta name="theme-color" content="#3b82f6">
  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EðŸ“°%3C/text%3E%3C/svg%3E">
</head>

<body>
  <!-- Skip to main content for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Header with navigation -->
  <header class="app-header" role="banner">
    <div class="header-container">
      <div class="header-brand">
        <h1 class="app-title">
          <span class="app-icon" aria-hidden="true">ðŸ“°</span>
          Fake News Detector
        </h1>
        <p class="app-subtitle">AI-Powered News Verification</p>
      </div>

      <nav class="header-nav" role="navigation" aria-label="Main navigation">
        <button class="nav-btn" id="addNewsBtn" aria-label="Add new news article">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
          </svg>
          Add News
        </button>

        <button class="nav-btn" id="layoutBtn" aria-label="Change grid layout">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z" />
          </svg>
          Layout
        </button>

        <div class="search-container">
          <input type="search" id="searchInput" placeholder="Search news articles..." aria-label="Search news articles"
            autocomplete="off">
          <button class="search-btn" id="searchBtn" aria-label="Search">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
            </svg>
          </button>
        </div>
      </nav>
    </div>
  </header>

  <!-- Main content area -->
  <main id="main-content" class="app-main" role="main">
    <!-- Filter and sort controls -->
    <section class="controls-section" aria-label="Filter and sort controls">
      <div class="controls-container">
        <div class="filter-group">
          <label for="predictionFilter" class="filter-label">Filter by prediction:</label>
          <select id="predictionFilter" class="filter-select" aria-label="Filter by prediction type">
            <option value="">All Predictions</option>
            <option value="REAL">Real News</option>
            <option value="FAKE">Fake News</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="sortSelect" class="filter-label">Sort by:</label>
          <select id="sortSelect" class="filter-select" aria-label="Sort articles by">
            <option value="timestamp">Latest First</option>
            <option value="confidence">Confidence</option>
            <option value="username">Author</option>
          </select>
        </div>

        <div class="stats-display" id="statsDisplay" aria-live="polite">
          <span class="stat-item">
            <span class="stat-label">Total:</span>
            <span class="stat-value" id="totalCount">0</span>
          </span>
          <span class="stat-item">
            <span class="stat-label">Real:</span>
            <span class="stat-value real" id="realCount">0</span>
          </span>
          <span class="stat-item">
            <span class="stat-label">Fake:</span>
            <span class="stat-value fake" id="fakeCount">0</span>
          </span>
        </div>
      </div>
    </section>

    <!-- Card Grid Container -->
    <section class="grid-section" aria-label="News articles grid">
      <div id="cardGrid" class="card-grid" role="region" aria-label="News articles in card format">
        <!-- Cards will be dynamically loaded here -->
      </div>
    </section>

    <!-- Empty state -->
    <div id="emptyState" class="empty-state" style="display: none;">
      <div class="empty-state-content">
        <div class="empty-state-icon" aria-hidden="true">ðŸ“°</div>
        <h2 class="empty-state-title">No Articles Yet</h2>
        <p class="empty-state-description">
          Start by adding a news article to analyze for fake news detection.
        </p>
        <button class="empty-state-btn" onclick="showAddNewsModal()">
          Add Your First Article
        </button>
      </div>
    </div>
  </main>

  <!-- Add News Modal -->
  <div id="addNewsModal" class="modal" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">
    <div class="modal-backdrop" aria-hidden="true"></div>
    <div class="modal-content">
      <header class="modal-header">
        <h2 id="modalTitle" class="modal-title">Add News Article</h2>
        <button class="modal-close" aria-label="Close modal" onclick="closeAddNewsModal()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
          </svg>
        </button>
      </header>

      <div class="modal-body">
        <form id="newsForm" onsubmit="submitNews(event)">
          <div class="form-group">
            <label for="newsTextarea" class="form-label">News Article Text</label>
            <textarea id="newsTextarea" class="form-textarea" placeholder="Paste or type the news article text here..."
              required aria-describedby="textareaHelp"></textarea>
            <div id="textareaHelp" class="form-help">
              Enter the full text of the news article you want to analyze.
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-secondary" onclick="closeAddNewsModal()">
              Cancel
            </button>
            <button type="submit" class="btn btn-primary" id="analyzeBtn">
              <span class="btn-text">Analyze Article</span>
              <span class="btn-spinner" style="display: none;" aria-hidden="true"></span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Card Detail Modal -->
  <div id="cardModal" class="modal card-modal" role="dialog" aria-labelledby="cardModalTitle" aria-hidden="true">
    <div class="modal-backdrop" aria-hidden="true"></div>
    <div class="modal-content modal-content-large">
      <!-- Modal content will be dynamically populated -->
    </div>
  </div>

  <!-- Loading overlay -->
  <div id="loadingOverlay" class="loading-overlay" style="display: none;" aria-hidden="true">
    <div class="loading-spinner-large"></div>
    <p class="loading-text">Loading articles...</p>
  </div>

  <!-- Toast notifications container -->
  <div id="toastContainer" class="toast-container" aria-live="polite" aria-atomic="true"></div>

  <!-- Scripts -->
  <script src="js/utils/imageOptimization.js"></script>
  <script src="js/utils/lazyLoading.js"></script>
  <script src="js/components/NewsCard.js"></script>
  <script src="js/components/CardGrid.js"></script>
  <script src="script.js"></script>
</body>

</html>